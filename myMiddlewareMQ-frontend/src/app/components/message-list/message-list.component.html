<div class="card">
    <p-table [value]="messages" [tableStyle]="{ 'min-width': '50rem' }" [paginator]="true" [rows]="10">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>Queue Name</th>
                <th>Message Content</th>
                <th>Timestamp</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-message>
            <tr (click)="onRowSelect(message)" style="cursor: pointer;">
                <td>{{message.id}}</td>
                <td>{{message.queueName}}</td>
                <td>{{message.messageContent}}</td>
                <td>{{message.timestamp | date:'medium'}}</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-dialog [(visible)]="displayDialog" [style]="{width: '50vw'}" [modal]="true" header="Message Details">
    <app-message-detail *ngIf="selectedMessage" [message]="selectedMessage"></app-message-detail>
</p-dialog>